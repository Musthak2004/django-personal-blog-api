{% extends "base.html" %}
<!--                           -->

{% block title %}New Thought - Philosophy.{% endblock %}
<!--                     -->

{% block content %}

<div class="max-w-4xl mx-auto px-6 py-20">
  <h2
    class="text-5xl md:text-6xl font-serif font-bold text-white mb-6 animate-fade-in-up"
  >
    Write a New Thought
  </h2>
  <p class="text-xl text-gray-400 mb-16 animate-fade-in-up stagger-1">
    Share something worth remembering.
  </p>

  <form method="post" enctype="multipart/form-data" class="space-y-10">
    {% csrf_token %} {% for field in form %}
    <div class="space-y-3 animate-fade-in-up stagger-{{ forloop.counter }}">
      <label
        for="{{ field.id_for_label }}"
        class="block text-sm font-medium uppercase tracking-wider text-gray-400"
      >
        {{ field.label }}{% if field.field.required %} *{% endif %}
      </label>

      {% if field.name == 'cover_image' %}
      <div class="relative">
        <input
          type="file"
          name="{{ field.name }}"
          id="{{ field.id_for_label }}"
          class="absolute inset-0 opacity-0 cursor-pointer z-10"
        />
        <div
          class="bg-gray-800 border-2 border-dashed border-gray-700 rounded-xl p-12 text-center transition hover:border-accent/60 hover:bg-gray-800/70"
        >
          <svg
            class="mx-auto h-14 w-14 text-gray-500 mb-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1.5"
              d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
            />
          </svg>
          <p class="text-gray-300 font-medium">
            Click or drag your cover image here
          </p>
          <p class="text-sm text-gray-500 mt-2">PNG / JPG â€¢ max 5MB</p>
        </div>
      </div>
      {% elif field.field.widget.input_type == 'textarea' %}
      <textarea
        name="{{ field.name }}"
        id="{{ field.id_for_label }}"
        rows="14"
        class="w-full bg-gray-800 border border-gray-700 rounded-xl px-6 py-5 text-gray-200 placeholder-gray-500 focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/30 transition min-h-[180px]"
        placeholder="Your deepest thought..."
      >
{{ field.value|default_if_none:'' }}</textarea
      >
      {% else %}
      <input
        type="{{ field.field.widget.input_type|default:'text' }}"
        name="{{ field.name }}"
        id="{{ field.id_for_label }}"
        value="{{ field.value|default_if_none:'' }}"
        class="w-full bg-gray-800 border border-gray-700 rounded-xl px-6 py-5 text-gray-200 placeholder-gray-500 focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/30 transition"
        placeholder="{{ field.label }}"
      />
      {% endif %} {% if field.errors %}
      <p class="text-red-400 text-sm mt-1">{{ field.errors|join:", " }}</p>
      {% endif %}
    </div>
    {% endfor %}

    <div class="pt-8 flex flex-col sm:flex-row gap-6">
      <button
        type="submit"
        class="bg-accent text-black font-bold px-12 py-5 rounded-xl hover:bg-accent/90 transition-all duration-300 hover:scale-105 active:scale-95 uppercase tracking-wider text-lg shadow-xl shadow-accent/30 animate-pulse-soft"
      >
        Publish Thought
      </button>

      <a
        href="{% url 'post_list' %}"
        class="border-2 border-gray-700 text-gray-300 hover:text-white hover:border-gray-400 px-12 py-5 rounded-xl transition-all duration-300 hover:scale-105 active:scale-95 uppercase tracking-wider text-lg text-center"
      >
        Cancel
      </a>
    </div>
  </form>
</div>

{% endblock %}
